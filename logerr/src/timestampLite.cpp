//----------------------------
//  INCLUDES
//----------------------------

#include "timestampLite.h"
#include "date.h"

//--------------------------------------------------------------------------------------------------
//	TimestampLite
//--------------------------------------------------------------------------------------------------
TimestampLite::TimestampLite()
    : m_now(std::chrono::system_clock::now())
{
}

//--------------------------------------------------------------------------------------------------
//	operator std::string
//--------------------------------------------------------------------------------------------------
TimestampLite::operator std::string() const
{
	return date::format("%Y-%m-%d %H:%M:%S", date::floor<std::chrono::nanoseconds>(m_now));
}

//----------------------------------------------------------------------------------------------------------------------
//  operator<<
//----------------------------------------------------------------------------------------------------------------------
std::ostream& operator<<(std::ostream& os, const TimestampLite& timestamp)
{
	os << static_cast<std::string>(timestamp);
	return os;
}